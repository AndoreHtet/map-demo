<!DOCTYPE html>
<html th:replace="layouts/masterLayout :: layout(~{::main})" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<link rel="stylesheet" href="../../static/bootstrap/css/bootstrap.min.css"
      th:href="@{/bootstrap/css/bootstrap.min.css}">

<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />



<body>
<main role="main">


    <div class="container" style="position: relative;">
        <div class="form-group">
            <label for="latitude">Latitude:</label>
            <input type="text" class="form-control" id="latitude" placeholder="Enter latitude">
        </div>
        <div class="form-group">
            <label for="longitude">Longitude:</label>
            <input type="text" class="form-control" id="longitude" placeholder="Enter longitude">
        </div>
        <div class="row">
            <div class="col-md-6">
                <button class="btn btn-warning mb-1 mt-3" onclick="showBoundaryAndCustomers()">Show Boundary and Customers</button>
                <a class="btn btn-success mb-1 mt-3" th:href="@{/customers}">Find All Customers</a>
            </div>
            <div sec:authorize="hasAuthority('ADMIN')" class="col-md-6 text-end">
                <a th:href="@{/customers/create-customer}" class="btn btn-primary mb-1 mt-3">Create Customer</a>
            </div>
        </div>

        <div id="customer_map" style="width: 100%;z-index: 1; height: 400px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);  border: 1px solid #ccc; margin-top: 20px; position: fixed; margin-bottom: 20px;"></div>

    </div>





    <div class="container" style="margin-top: 2rem;">
        <div class="input-group mb-3">
            <input type="text" id="customerSearch" class="form-control" placeholder="Search for customers">
            <button class="btn btn-primary" type="button" onclick="searchCustomers()">Search</button>
        </div>

        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-header">
                        <div class="row">
                            <div class="col">
                                <h2>Customer List</h2>
                            </div>
                            <div class="col text-end">
                                <h2 id="customerCount"></h2>
                            </div>

                        </div>
                    </div>

                    <table id="customerTable" class="table table-striped table-responsive">
                        <thead class="thead-dark">
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Email</th>
                            <th scope="col">Phone</th>
                            <th scope="col">Address</th>
                            <th scope="col">Action</th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>


    <script th:src="@{js/customers.js}">

    </script>

</main>
</body>

</html>